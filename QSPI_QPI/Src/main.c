#include "main.h"
#include "fm33fh0xx_fl.h"
#include "qspi.h"
#include "axs15231.h"

int main(void)
{   
    /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
    /* SHOULD BE KEPT!!! */
    MF_Clock_Init();
    
    /* Configure the system clock */
    /* SHOULD BE KEPT!!! */
    MF_SystemClock_Config();
    
    /* Initialize FL Driver Library */
    /* SHOULD BE KEPT!!! */
    FL_Init();

    MF_Config_Init();
    QSpiInit();
    LCD_NRST_Init();
    AXS15231_QSPI_Init();  
 
    /* Reset display and exit sleep mode */
    AXS15231_WriteCommand(TFT_CMD_SWRESET);
    FL_DelayMs(5);
    AXS15231_WriteCommand(TFT_CMD_SLPOUT);
    FL_DelayMs(120);
    AXS15231_WriteCommand(TFT_CMD_DISPON);
    
    AXS15231_SetWindow(0, 0, 639, 639);
  //  AXS15231_FillRed(640 * 640);
    AXS15231_FillColor(AXS15231_RED, 240 * 320);


    while(1)
    {     
       IWDT_Clr();    
    }
}
//uint32_t reg1;
//uint32_t reg2;
//uint32_t reg3;
//
//uint8_t wBuff[256] = {
//    0x33, 0x44, 0x55, 0x66, 0x77, 0x88, 0x99, 0xAA, 0xBB, 0xCC, 0xDD, 0xEE, 0xFF, 0x00, 0x11, 0x22,
//    0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11,
//    0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22, 0x22,
//    0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33, 0x33,
//    0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44,
//    0x00, 0x11, 0x22, 0x33, 0x44, 0x55, 0x66, 0x77, 0x88, 0x99, 0xAA, 0xBB, 0xCC, 0xDD, 0xEE, 0xFF,
//    0x11, 0x22, 0x33, 0x44, 0x55, 0x66, 0x77, 0x88, 0x99, 0xAA, 0xBB, 0xCC, 0xDD, 0xEE, 0xFF, 0x00,	
//    0x22, 0x33, 0x44, 0x55, 0x66, 0x77, 0x88, 0x99, 0xAA, 0xBB, 0xCC, 0xDD, 0xEE, 0xFF, 0x00, 0x11,	
//    0x33, 0x44, 0x55, 0x66, 0x77, 0x88, 0x99, 0xAA, 0xBB, 0xCC, 0xDD, 0xEE, 0xFF, 0x00, 0x11, 0x22,	
//    0x44, 0x55, 0x66, 0x77, 0x88, 0x99, 0xAA, 0xBB, 0xCC, 0xDD, 0xEE, 0xFF, 0x00, 0x11, 0x22, 0x33,	
//    0x55, 0x66, 0x77, 0x88, 0x99, 0xAA, 0xBB, 0xCC, 0xDD, 0xEE, 0xFF, 0x00, 0x11, 0x22, 0x33, 0x44,	
//    0x66, 0x77, 0x88, 0x99, 0xAA, 0xBB, 0xCC, 0xDD, 0xEE, 0xFF, 0x00, 0x11, 0x22, 0x33, 0x44, 0x55,	
//    0x77, 0x88, 0x99, 0xAA, 0xBB, 0xCC, 0xDD, 0xEE, 0xFF, 0x00, 0x11, 0x22, 0x33, 0x44, 0x55, 0x66,	
//    0x88, 0x99, 0xAA, 0xBB, 0xCC, 0xDD, 0xEE, 0xFF, 0x00, 0x11, 0x22, 0x33, 0x44, 0x55, 0x66, 0x77,	
//    0x99, 0xAA, 0xBB, 0xCC, 0xDD, 0xEE, 0xFF, 0x00, 0x11, 0x22, 0x33, 0x44, 0x55, 0x66, 0x77, 0x88,	
//    0xAA, 0xBB, 0xCC, 0xDD, 0xEE, 0xFF, 0x00, 0x11, 0x22, 0x33, 0x44, 0x55, 0x66, 0x77, 0x88, 0x99};
//
//uint8_t rBuff1[256];
//uint8_t rBuff2[256];
//    FM25QxxEnable_QE();
//    FM25QxxInit_QPI();
//    
//    reg1 = FM25QxxReadStatus1_QPI();
//    reg2 = FM25QxxReadStatus2_QPI();
//    reg3 = FM25QxxJEDECID_QPI();
//    
//    FM25QxxEraseSector_QPI(0x100000);
//    FM25QxxReadFast_QPI(0x100000, rBuff1, 256);
//    
//    FM25QxxProgramPage_QPI(0x100000, wBuff, 256);
//    FM25QxxReadFast_QPI(0x100000, rBuff1, 256);
//    
//    FM25QxxDeInit_QPI();      //退出QPI
